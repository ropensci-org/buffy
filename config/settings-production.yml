buffy:
  env:
    bot_github_user: <%= ENV['BUFFY_BOT_GH_USER'] %>
    gh_access_token: <%= ENV['BUFFY_GH_ACCESS_TOKEN'] %>
    gh_secret_token: <%= ENV['BUFFY_GH_SECRET_TOKEN'] %>
    airtable_api_key: <%= ENV['AIRTABLE_API_KEY'] %>
    airtable_base_id: <%= ENV['AIRTABLE_BASE_ID'] %>
  teams:
    editors: 2376878
    empty: 4475893
    software-review-testing: 4476094
  responders:
    ropensci_submit_reviews:
      only:
        - editors
      label_when_all_reviews_in: "4/review-in-awaiting-changes"
      unlabel_when_all_reviews_in: "3/reviewer(s)-assigned"
    help:
    hello:
      hidden: true
    thanks:
      hidden: true
    welcome:
      if:
        value_matches:
          submission-type: "Standard|Est√°ndar|Stats"
      message: "Thanks for submitting to rOpenSci, our editors and @ropensci-review-bot will reply soon. Type `@ropensci-review-bot help` for help."
      external_service:
        name: editorcheck
        url: http://138.68.123.59:8000/editorcheck
        method: get
        query_params:
          repo: ropensci/software-review
          issue_id:
        data_from_issue:
          - repourl
        template_file: goodpractice.md
    basic_command:
      - code_of_conduct:
          command: code of conduct
          description: Show our Code of Conduct
          messages:
            - "Our Code of Conduct can be found at https://ropensci.org/code-of-conduct/"
      - seeking_reviewers:
          command: seeking reviewers
          description: Switch to "seeking reviewers"
          template_file: badge.md
          remove_labels:
            - 1/editor-checks
          add_labels:
            - 2/seeking-reviewer(s)
          only:
            - editors
    ropensci_approve:
      only: editors
      template_file: approved.md
      data_from_issue:
        - reviewers-list
      remove_labels:
        - 5/awaiting-reviewer(s)-response
      add_labels:
        - 6/approved
    ropensci_mint:
      only: editors
    ropensci_reviewers:
      only:
        - editors
      if:
        role_assigned: editor
        reject_msg: "Can't assign reviewer because there is no editor assigned for this submission yet"
      no_reviewer_text: "TBD"
      add_labels:
        - 3/reviewer(s)-assigned
      remove_labels:
        - 2/seeking-reviewer(s)
    assign_editor:
      message: "The editor guide can be found at https://devguide.ropensci.org/editorguide.html#editorchecklist"
      only:
        - editors
      add_labels:
        - 1/editor-checks
      remove_labels:
        - 0/editorial-team-prep
    remove_editor:
      only:
        - editors
      no_editor_text: "TBD"
    close_issue_command:
      - out_of_scope:
          only:
            - editors
          command: out of scope
          add_labels:
            - out-of-scope
          remove_labels:
            - 1/editor-checks
    external_service:
      name: editorcheck
      only:
        - editors
      command: check package
      description: Various package checks
      message: Thanks, about to send the query.
      url: http://138.68.123.59:8000/editorcheck
      method: get
      query_params:
        repo: ropensci/software-review
        issue_id:
      data_from_issue:
        - repourl
      template_file: goodpractice.md
    initial_values:
      values:
        - author1:
          - heading: Submitting Author
          - warn_if_empty: true
        - reviewers
        - repourl:
          - heading: Repository 
          - warn_if_empty: true 
        - submission-type:
          - heading: Submission Type
            warn_if_empty: true
        - editor
        - language:
          - heading: Language Code
            warn_if_empty: true 
